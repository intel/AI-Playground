{
  "type": "comfy",
  "name": "Image To 3D Model",
  "displayPriority": 300,
  "tags": ["Hunyuan3D", "no-prompt", "high-vram"],
  "backend": "comfyui",
  "category": "edit-images",
  "description": "Create a 3D mesh from a 2D image ready for 3D printing or other 3D tools like Blender",
  "toolCategory": "edit-images",
  "toolInstructions": "Use this workflow when the user wants to convert a 2D image into a 3D model or mesh. This is a no-prompt workflow: the prompt parameter is ignored. The workflow uses Hunyuan3D-2 to generate a 3D GLB mesh from the input image. Use the Preview variant for quick results or Standard for higher quality. This is resource-intensive (high VRAM). Best for single objects with clear outlines rather than complex scenes.",
  "requiredCustomNodes": [],
  "requiredPythonPackages": [],
  "requiredModels": [],
  "variants": [
    {
      "name": "Preview",
      "overrides": {
        "requiredModels": [
          {
            "type": "checkpoints",
            "model": "tencent/Hunyuan3D-2mini/hunyuan3d-dit-v2-mini-turbo/model.fp16.safetensors"
          }
        ],
        "comfyUiApiWorkflow": {
          "54": {
            "inputs": {
              "ckpt_name": "tencent---Hunyuan3D-2mini\\hunyuan3d-dit-v2-mini-turbo\\model.fp16.safetensors"
            }
          }
        },
        "settings": [
          {
            "label": "Latent Resolution",
            "defaultValue": 1536
          },
          {
            "label": "Number of Chunks",
            "defaultValue": 3000
          },
          {
            "label": "Steps",
            "defaultValue": 6
          },
          {
            "label": "CFG Scale",
            "defaultValue": 5
          },
          {
            "label": "Voxel Algorithm",
            "defaultValue": "basic"
          }
        ]
      }
    },
    {
      "name": "Standard",
      "overrides": {
        "requiredModels": [
          {
            "type": "checkpoints",
            "model": "tencent/Hunyuan3D-2/hunyuan3d-dit-v2-0/model.fp16.safetensors"
          }
        ],
        "comfyUiApiWorkflow": {
          "54": {
            "inputs": {
              "ckpt_name": "tencent---Hunyuan3D-2\\hunyuan3d-dit-v2-0\\model.fp16.safetensors"
            }
          }
        }
      }
    }
  ],
  "settings": [
    {
      "type": "image",
      "label": "Input Image",
      "displayed": true,
      "modifiable": true,
      "defaultValue": "",
      "nodeTitle": "Load Image",
      "nodeInput": "image"
    },
    {
      "type": "number",
      "label": "Batch Size",
      "displayed": false,
      "modifiable": false,
      "defaultValue": 1,
      "settingName": "batchSize"
    },
    {
      "type": "number",
      "label": "Number of Chunks",
      "displayed": true,
      "modifiable": true,
      "defaultValue": 8000,
      "min": 1000,
      "max": 12000,
      "step": 250,
      "nodeTitle": "VAEDecodeHunyuan3D",
      "nodeInput": "num_chunks"
    },
    {
      "type": "number",
      "label": "Latent Resolution",
      "displayed": false,
      "modifiable": false,
      "defaultValue": 3072,
      "min": 1024,
      "max": 3072,
      "step": 512,
      "nodeTitle": "VAEDecodeHunyuan3D",
      "nodeInput": "resolution"
    },
    {
      "type": "number",
      "label": "Octree Resolution",
      "displayed": true,
      "modifiable": true,
      "defaultValue": 256,
      "min": 128,
      "max": 512,
      "step": 128,
      "nodeTitle": "VAEDecodeHunyuan3D",
      "nodeInput": "octree_resolution"
    },
    {
      "type": "number",
      "label": "Steps",
      "displayed": true,
      "modifiable": true,
      "defaultValue": 20,
      "min": 1,
      "max": 50,
      "step": 1,
      "nodeTitle": "KSampler",
      "nodeInput": "steps"
    },
    {
      "type": "number",
      "label": "CFG Scale",
      "displayed": true,
      "modifiable": true,
      "defaultValue": 8,
      "min": 1,
      "max": 20,
      "step": 0.5,
      "nodeTitle": "KSampler",
      "nodeInput": "cfg"
    },
    {
      "type": "stringList",
      "label": "Voxel Algorithm",
      "displayed": true,
      "modifiable": true,
      "defaultValue": "surface net",
      "nodeTitle": "VoxelToMesh",
      "nodeInput": "algorithm",
      "options": ["surface net", "basic"]
    }
  ],
  "comfyUiApiWorkflow": {
    "3": {
      "inputs": {
        "seed": 821578184512771,
        "steps": 5,
        "cfg": 5.1,
        "sampler_name": "euler",
        "scheduler": "normal",
        "denoise": 1,
        "model": ["70", 0],
        "positive": ["80", 0],
        "negative": ["80", 1],
        "latent_image": ["66", 0]
      },
      "class_type": "KSampler",
      "_meta": {
        "title": "KSampler"
      }
    },
    "51": {
      "inputs": {
        "crop": "none",
        "clip_vision": ["54", 1],
        "image": ["56", 0]
      },
      "class_type": "CLIPVisionEncode",
      "_meta": {
        "title": "CLIP Vision Encode"
      }
    },
    "54": {
      "inputs": {
        "ckpt_name": "tencent---Hunyuan3D-2mini\\hunyuan3d-dit-v2-mini-turbo\\model.fp16.safetensors"
      },
      "class_type": "ImageOnlyCheckpointLoader",
      "_meta": {
        "title": "Image Only Checkpoint Loader (img2vid model)"
      }
    },
    "56": {
      "inputs": {
        "image": ""
      },
      "class_type": "LoadImage",
      "_meta": {
        "title": "Load Image"
      }
    },
    "61": {
      "inputs": {
        "num_chunks": 1000,
        "octree_resolution": 128,
        "samples": ["3", 0],
        "vae": ["54", 2]
      },
      "class_type": "VAEDecodeHunyuan3D",
      "_meta": {
        "title": "VAEDecodeHunyuan3D"
      }
    },
    "66": {
      "inputs": {
        "resolution": 2048,
        "batch_size": 1
      },
      "class_type": "EmptyLatentHunyuan3Dv2",
      "_meta": {
        "title": "EmptyLatentHunyuan3Dv2"
      }
    },
    "70": {
      "inputs": {
        "shift": 1.0000000000000002,
        "model": ["54", 0]
      },
      "class_type": "ModelSamplingAuraFlow",
      "_meta": {
        "title": "ModelSamplingAuraFlow"
      }
    },
    "80": {
      "inputs": {
        "clip_vision_output": ["51", 0]
      },
      "class_type": "Hunyuan3Dv2Conditioning",
      "_meta": {
        "title": "Hunyuan3Dv2Conditioning"
      }
    },
    "81": {
      "inputs": {
        "algorithm": "surface net",
        "threshold": 0.6,
        "voxel": ["61", 0]
      },
      "class_type": "VoxelToMesh",
      "_meta": {
        "title": "VoxelToMesh"
      }
    },
    "82": {
      "inputs": {
        "filename_prefix": "AIPG_3D",
        "image": "",
        "mesh": ["81", 0]
      },
      "class_type": "SaveGLB",
      "_meta": {
        "title": "SaveGLB"
      }
    }
  }
}
