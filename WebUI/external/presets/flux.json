{
  "type": "comfy",
  "name": "Pro Image",
  "displayPriority": 300,
  "tags": ["Flux.1-Schnell"],
  "description": "Precisely generate images, with text and adherence to prompt using Flux.1-Schnell",
  "backend": "comfyui",
  "category": "create-images",
  "mediaType": "image",
  "toolEnabled": true,
  "toolInstructions": "Generate a detailed, descriptive prompt that includes: subject details, composition, style, lighting, colors, mood, and quality tags. Flux.1-Schnell produces very high quality images with excellent prompt understanding, so be specific about artistic style, composition, and visual details. Even if the user requests something simple like 'a landscape', expand it to a full prompt like 'a breathtaking mountain landscape at sunset, dramatic clouds, golden hour lighting, cinematic composition, highly detailed, photorealistic, 8k, professional photography, wide angle view'.",
  "resolutionConfig": {
    "megapixels": [
      { "label": "0.25", "totalPixels": 262144 },
      { "label": "0.5", "totalPixels": 495616 },
      { "label": "0.8", "totalPixels": 802816 },
      { "label": "1.0", "totalPixels": 1048576 },
      { "label": "1.2", "totalPixels": 1254400 },
      { "label": "1.5", "totalPixels": 1557504 }
    ],
    "aspectRatios": ["21/9", "16/9", "3/2", "4/3", "1/1", "3/4", "2/3", "9/16", "9/21"]
  },
  "requiredCustomNodes": [
    "city96/ComfyUI-GGUF@b3ec875a68d94b758914fd48d30571d953bb7a54",
    "evanspearman/ComfyMath@939bb813f1c0ace959b62f20bb2da47190c4e211"
  ],
  "requiredPythonPackages": [],
  "requiredModels": [],
  "settings": [
    {
      "type": "string",
      "label": "Prompt",
      "displayed": false,
      "modifiable": true,
      "defaultValue": "",
      "settingName": "prompt"
    },
    {
      "type": "number",
      "label": "Seed",
      "displayed": false,
      "modifiable": true,
      "defaultValue": -1,
      "settingName": "seed"
    },
    {
      "type": "number",
      "label": "Inference Steps",
      "displayed": false,
      "modifiable": true,
      "defaultValue": 4,
      "settingName": "inferenceSteps"
    },
    {
      "type": "number",
      "label": "Width",
      "displayed": false,
      "modifiable": false,
      "defaultValue": 896,
      "settingName": "width"
    },
    {
      "type": "number",
      "label": "Height",
      "displayed": false,
      "modifiable": false,
      "defaultValue": 896,
      "settingName": "height"
    },
    {
      "type": "string",
      "label": "Resolution",
      "displayed": false,
      "modifiable": true,
      "defaultValue": "896x896",
      "settingName": "resolution"
    },
    {
      "type": "number",
      "label": "Batch Size",
      "displayed": false,
      "modifiable": true,
      "defaultValue": 1,
      "settingName": "batchSize"
    },
    {
      "type": "string",
      "label": "Negative Prompt",
      "displayed": false,
      "modifiable": false,
      "defaultValue": "nsfw",
      "settingName": "negativePrompt"
    },
    {
      "type": "boolean",
      "label": "Safety Check",
      "displayed": false,
      "modifiable": false,
      "defaultValue": true,
      "settingName": "safetyCheck"
    },
    {
      "type": "boolean",
      "label": "Show Preview",
      "displayed": true,
      "modifiable": true,
      "defaultValue": true,
      "settingName": "showPreview"
    },
    {
      "type": "number",
      "label": "Safety Checker Strength",
      "nodeTitle": "SafetyCheckerStrength",
      "nodeInput": "b",
      "min": 0,
      "max": 1,
      "step": 0.05,
      "defaultValue": 0.5,
      "displayed": true,
      "modifiable": true
    }
  ],
  "variants": [
    {
      "name": "Standard",
      "overrides": {
        "requiredModels": [
          {
            "type": "unet",
            "model": "city96/FLUX.1-schnell-gguf/flux1-schnell-Q4_K_S.gguf"
          },
          {
            "type": "clip",
            "model": "city96/t5-v1_1-xxl-encoder-gguf/t5-v1_1-xxl-encoder-Q3_K_M.gguf"
          },
          {
            "type": "clip",
            "model": "comfyanonymous/flux_text_encoders/clip_l.safetensors"
          },
          {
            "type": "vae",
            "model": "Comfy-Org/Lumina_Image_2.0_Repackaged/split_files/vae/ae.safetensors"
          },
          {
            "type": "nsfwdetector",
            "model": "AdamCodd/vit-base-nsfw-detector/config.json"
          },
          {
            "type": "nsfwdetector",
            "model": "AdamCodd/vit-base-nsfw-detector/model.safetensors"
          },
          {
            "type": "nsfwdetector",
            "model": "AdamCodd/vit-base-nsfw-detector/preprocessor_config.json"
          }
        ],
        "comfyUiApiWorkflow": {
          "170": {
            "inputs": {
              "unet_name": "city96---FLUX.1-schnell-gguf\\flux1-schnell-Q4_K_S.gguf"
            },
            "class_type": "UnetLoaderGGUF",
            "_meta": {
              "title": "Unet Loader (GGUF)"
            }
          }
        }
      }
    },
    {
      "name": "Quality",
      "overrides": {
        "requiredModels": [
          {
            "type": "unet",
            "model": "city96/FLUX.1-schnell-gguf/flux1-schnell-Q8_0.gguf"
          },
          {
            "type": "clip",
            "model": "city96/t5-v1_1-xxl-encoder-gguf/t5-v1_1-xxl-encoder-Q3_K_M.gguf"
          },
          {
            "type": "clip",
            "model": "comfyanonymous/flux_text_encoders/clip_l.safetensors"
          },
          {
            "type": "vae",
            "model": "Comfy-Org/Lumina_Image_2.0_Repackaged/split_files/vae/ae.safetensors"
          },
          {
            "type": "nsfwdetector",
            "model": "AdamCodd/vit-base-nsfw-detector/config.json"
          },
          {
            "type": "nsfwdetector",
            "model": "AdamCodd/vit-base-nsfw-detector/model.safetensors"
          },
          {
            "type": "nsfwdetector",
            "model": "AdamCodd/vit-base-nsfw-detector/preprocessor_config.json"
          }
        ],
        "comfyUiApiWorkflow": {
          "170": {
            "inputs": {
              "unet_name": "city96---FLUX.1-schnell-gguf\\flux1-schnell-Q8_0.gguf"
            },
            "class_type": "UnetLoaderGGUF",
            "_meta": {
              "title": "Unet Loader (GGUF)"
            }
          }
        },
        "tags": ["Flux", "Q8"]
      }
    }
  ],
  "comfyUiApiWorkflow": {
    "98": {
      "inputs": {
        "threshold": ["99", 0],
        "cuda": false,
        "image": ["179", 0]
      },
      "class_type": "SafetyChecker",
      "_meta": {
        "title": "Intercept NSFW Outputs"
      }
    },
    "99": {
      "inputs": {
        "op": "Sub",
        "a": 1,
        "b": 0.5
      },
      "class_type": "CM_FloatBinaryOperation",
      "_meta": {
        "title": "SafetyCheckerStrength"
      }
    },
    "167": {
      "inputs": {
        "filename_prefix": "AIPG_Image",
        "images": ["98", 0]
      },
      "class_type": "SaveImage",
      "_meta": {
        "title": "Save Image"
      }
    },
    "169": {
      "inputs": {
        "noise": ["184", 0],
        "guider": ["178", 0],
        "sampler": ["185", 0],
        "sigmas": ["181", 0],
        "latent_image": ["180", 0]
      },
      "class_type": "SamplerCustomAdvanced",
      "_meta": {
        "title": "SamplerCustomAdvanced"
      }
    },
    "171": {
      "inputs": {
        "vae_name": "Comfy-Org---Lumina_Image_2.0_Repackaged\\split_files\\vae\\ae.safetensors"
      },
      "class_type": "VAELoader",
      "_meta": {
        "title": "Load VAE"
      }
    },
    "174": {
      "inputs": {
        "guidance": 1,
        "conditioning": ["177", 0]
      },
      "class_type": "FluxGuidance",
      "_meta": {
        "title": "FluxGuidance"
      }
    },
    "177": {
      "inputs": {
        "text": "A cool llama wearing a pair of sunglasses, holding a blue and purple neon sign that says \"Lunar Lake\" in front, vibrant colors, blurry cyberpunk gaming background.",
        "clip": ["188", 0]
      },
      "class_type": "CLIPTextEncode",
      "_meta": {
        "title": "prompt"
      }
    },
    "178": {
      "inputs": {
        "model": ["170", 0],
        "conditioning": ["174", 0]
      },
      "class_type": "BasicGuider",
      "_meta": {
        "title": "BasicGuider"
      }
    },
    "179": {
      "inputs": {
        "samples": ["169", 1],
        "vae": ["171", 0]
      },
      "class_type": "VAEDecode",
      "_meta": {
        "title": "VAE Decode"
      }
    },
    "180": {
      "inputs": {
        "width": 768,
        "height": 768,
        "batch_size": 1
      },
      "class_type": "EmptyLatentImage",
      "_meta": {
        "title": "Empty Latent Image"
      }
    },
    "181": {
      "inputs": {
        "scheduler": "normal",
        "steps": 4,
        "denoise": 1,
        "model": ["170", 0]
      },
      "class_type": "BasicScheduler",
      "_meta": {
        "title": "BasicScheduler"
      }
    },
    "184": {
      "inputs": {
        "noise_seed": 508274201813129
      },
      "class_type": "RandomNoise",
      "_meta": {
        "title": "RandomNoise"
      }
    },
    "185": {
      "inputs": {
        "sampler_name": "euler"
      },
      "class_type": "KSamplerSelect",
      "_meta": {
        "title": "KSamplerSelect"
      }
    },
    "188": {
      "inputs": {
        "clip_name1": "city96---t5-v1_1-xxl-encoder-gguf\\t5-v1_1-xxl-encoder-Q3_K_M.gguf",
        "clip_name2": "comfyanonymous---flux_text_encoders\\clip_l.safetensors",
        "type": "flux"
      },
      "class_type": "DualCLIPLoaderGGUF",
      "_meta": {
        "title": "DualCLIPLoader (GGUF)"
      }
    }
  }
}
